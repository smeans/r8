function replaceTokens(o, d) {
  switch (typeof o) {
    case 'object': {
      for (var k in o) {
        if (o.hasOwnProperty(k) && o[k]) {
          o[k] = replaceTokens(o[k], d);
        }
      }
    } break;

    case 'string': {
      for (var k in d) {
        o = o.replace('{'+ k + '}', d[k]);
      }
    } break;
  }

  return o;
}

function dayOfYear(date) {
    return Math.floor((date - new Date(date.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24))
}

module.exports = {
    replaceTokens,
    dayOfYear
}
